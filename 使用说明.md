# Skill Quality Validator - 使用说明

## 🎯 技能介绍

**Skill Quality Validator（技能质量检查器）** 是一个元技能，用于自动验证Claude技能是否符合官方最佳实践标准。

### 核心功能

- ✅ 7个维度全方位质量检查
- ✅ 详细的问题诊断和改进建议
- ✅ 0-100分综合评分系统
- ✅ 支持目录和.skill文件检查
- ✅ 完全符合官方6步法规范

## 📦 文件清单

```
skill-quality-validator.skill (16KB)
├── SKILL.md                    # 核心文档，使用说明
├── scripts/
│   └── check_skill.py         # 质量检查脚本（16.5KB）
└── references/
    ├── checklist.md            # 详细检查清单
    └── quick_fixes.md          # 快速修复指南
```

## 🚀 安装使用

### 方法1: 在Claude.ai中安装

1. 下载 `skill-quality-validator.skill` 文件
2. 在Claude.ai界面点击"添加技能"
3. 上传下载的.skill文件
4. 技能自动安装到 `/mnt/skills/user/skill-quality-validator`

### 方法2: 直接使用脚本

无需安装技能，直接使用检查脚本：

```bash
# 解压.skill文件（本质是zip）
unzip skill-quality-validator.skill -d skill-quality-validator

# 检查任意技能
python skill-quality-validator/scripts/check_skill.py <你的技能路径>
```

## 📖 使用示例

### 示例1: 检查新创建的技能

```bash
# 假设你创建了一个新技能
python /mnt/skills/examples/skill-creator/scripts/init_skill.py my-awesome-skill

# 编辑内容后，检查质量
python /mnt/skills/user/skill-quality-validator/scripts/check_skill.py my-awesome-skill
```

**预期输出:**
```
======================================================================
技能质量检查报告
======================================================================

技能名称: my-awesome-skill
综合评分: 65/100
评级等级: D - 需改进
总问题数: 8
检查结果: ❌ 未通过

======================================================================
🔴 致命问题 (Critical Issues)
======================================================================

1. YAML缺少description字段
   💡 改进建议: 添加 description: > 后跟详细描述

======================================================================
⚠️ 警告 (Warnings)
======================================================================

1. description缺少"何时使用"说明
   💡 改进建议: 添加 "Use when..." 或 "适用于..." 描述触发场景

2. 发现3个示例文件未清理
   💡 改进建议: 删除以下文件: scripts/example.py, ...
```

### 示例2: 检查已打包的技能

```bash
# 检查从GitHub下载的.skill文件
python scripts/check_skill.py downloaded-skill.skill
```

### 示例3: 批量检查技能库

```bash
# 检查所有用户技能
for skill in /mnt/skills/user/*/; do
    echo "========== 检查: $skill =========="
    python /mnt/skills/user/skill-quality-validator/scripts/check_skill.py "$skill"
    echo ""
done
```

### 示例4: 在Claude对话中使用

一旦安装了技能，你可以直接在对话中请求：

```
你: "帮我检查这个技能是否符合官方最佳实践"
   [上传技能目录或.skill文件]

Claude: [自动调用技能检查]
   [显示详细报告和改进建议]
```

## 📊 检查维度详解

| 维度 | 权重 | 检查内容 |
|-----|------|---------|
| 结构完整性 | 30分 | SKILL.md存在、目录结构、示例清理 |
| YAML规范性 | 20分 | Frontmatter格式、必需字段 |
| 描述质量 | 15分 | 触发场景、场景数量、长度 |
| 内容质量 | 20分 | 长度控制、章节结构、代码块 |
| 引用有效性 | 10分 | 文件引用正确性 |
| 代码质量 | 5分 | 语法、文档字符串、规范性 |
| 文档质量 | 不计分 | References内容建议 |

## 🎯 评分等级

| 分数 | 等级 | 通过 | 说明 |
|-----|------|-----|------|
| 90-100 | A - 优秀 | ✅ | 完全符合最佳实践 |
| 80-89 | B - 良好 | ✅ | 基本符合，有少量改进空间 |
| 70-79 | C - 合格 | ✅ | 满足基本要求，建议优化 |
| 60-69 | D - 需改进 | ❌ | 存在明显问题，需要修复 |
| 0-59 | F - 不合格 | ❌ | 有致命问题，无法正常使用 |

**通过标准:** 评分 ≥ 70分 且 无致命问题

## 🔧 问题修复流程

### 优先级1: 致命问题 🔴

**必须立即修复**，否则技能无法正常工作：
- 缺少SKILL.md
- YAML格式错误或缺少必需字段
- Scripts语法错误

### 优先级2: 警告 ⚠️

**建议尽快修复**，影响技能质量：
- Description质量不足
- 失效的文件引用
- SKILL.md过长
- 未清理示例文件

### 优先级3: 建议 ⭐

**可逐步优化**，提升用户体验：
- 添加推荐章节
- 改进脚本文档
- 完善References内容

## 📚 参考文档

技能内包含三个重要文档：

1. **SKILL.md** - 主文档
   - 快速开始指南
   - 完整功能说明
   - 使用场景示例

2. **references/checklist.md** - 详细检查清单
   - 所有检查项的完整说明
   - 评分标准详解
   - 常见问题解答

3. **references/quick_fixes.md** - 快速修复指南
   - 常见问题的代码模板
   - 逐步修复方案
   - 优先级矩阵

## 💡 最佳实践建议

### 技能开发流程

```
1. 初始化技能结构
   ↓
2. 编写核心内容
   ↓
3. 质量检查（本技能）
   ↓
4. 修复问题
   ↓
5. 重新检查（直到通过）
   ↓
6. 打包发布
```

### 质量检查时机

- ✅ **新技能创建后** - 验证基础结构
- ✅ **功能开发完成后** - 完整质量检查
- ✅ **打包发布前** - 最终审核
- ✅ **定期审查** - 维护技能质量

### 持续改进

1. 建立技能质量标准
2. 定期批量检查
3. 记录常见问题
4. 优化开发模板

## 🔍 进阶功能

### 自定义检查规则

编辑 `scripts/check_skill.py` 添加项目特定规则：

```python
def _check_custom_requirement(self):
    """自定义检查项"""
    # 你的检查逻辑
    if not meets_requirement:
        self._add_issue('warning', '问题描述', '改进建议')
        self.score -= 5
```

### CI/CD集成

在GitHub Actions中使用：

```yaml
- name: Validate Skill Quality
  run: |
    python check_skill.py my-skill
    if [ $? -ne 0 ]; then
      echo "质量检查未通过"
      exit 1
    fi
```

### 团队标准化

1. 统一质量标准（如最低70分）
2. 代码审查前先跑检查
3. 建立技能质量仪表板

## ⚠️ 限制说明

该工具主要进行**静态检查**，不包括：

- ❌ 实际功能运行测试
- ❌ 业务逻辑合理性验证
- ❌ Assets资源内容检查
- ❌ 动态性能测试

**建议:** 质量检查通过后，仍需进行实际功能测试。

## 🆘 故障排除

### Q: 脚本执行失败

```bash
# 确保Python 3可用
python3 --version

# 添加执行权限
chmod +x scripts/check_skill.py
```

### Q: .skill文件无法识别

```bash
# .skill文件本质是zip
file skill-file.skill  # 应显示为ZIP archive

# 手动测试解压
unzip -t skill-file.skill
```

### Q: 评分结果有疑问

- 查看detailed报告了解具体扣分
- 参考 `references/checklist.md` 评分标准
- 检查 `references/quick_fixes.md` 修复方案

## 📞 技术支持

- **文档**: 查看技能内的SKILL.md和references文档
- **示例**: 参考SKILL.md中的使用场景
- **自检**: 运行 `python check_skill.py skill-quality-validator` 查看满分示例

## 📝 版本信息

- **版本**: v1.0
- **发布日期**: 2025-12-10
- **Python要求**: Python 3.6+
- **依赖**: 无外部依赖，仅使用标准库

## ✅ 质量保证

本技能已通过自身检查：

```
✅ 综合评分: 100/100
✅ 评级等级: A - 优秀
✅ 致命问题: 0
✅ 警告: 0
✅ 建议: 0
```

完全符合官方最佳实践标准！

---

**开始使用技能，确保你的Claude技能符合最高质量标准！** 🚀
